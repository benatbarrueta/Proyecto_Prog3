BEGIN TRANSACTION;
CREATE TABLE IF NOT EXISTS "ASIGNATURA" (
	"ID"	INTEGER NOT NULL,
	"NOMBRE"	TEXT,
	"ID_PROFESOR"	INTEGER,
	UNIQUE("ID_PROFESOR"),
	PRIMARY KEY("ID")
);
CREATE TABLE IF NOT EXISTS "TAREA" (
	"ID"	INTEGER NOT NULL,
	"NOMBRE"	TEXT,
	"FECHA_FIN"	TEXT,
	"CALIFICACION"	INTEGER,
	"ID_ASIGNATURA"	INTEGER,
	"ID_ALUMNO"	INTEGER,
	FOREIGN KEY("ID_ALUMNO") REFERENCES "ALUMNO",
	FOREIGN KEY("ID_ASIGNATURA") REFERENCES "ASIGNATURA"("ID"),
	PRIMARY KEY("ID" AUTOINCREMENT)
);
CREATE TABLE IF NOT EXISTS "ESTUDIA" (
	"ID_ALUMNO"	INTEGER,
	"ID_ASIGNATURA"	INTEGER,
	FOREIGN KEY("ID_ASIGNATURA") REFERENCES "PROFESOR"("ID"),
	FOREIGN KEY("ID_ALUMNO") REFERENCES "ALUMNO"("ID"),
	PRIMARY KEY("ID_ALUMNO","ID_ASIGNATURA")
);
CREATE TABLE IF NOT EXISTS "PROFESOR" (
	"ID"	INTEGER NOT NULL,
	"NOMBRE"	TEXT,
	"APELLIDO"	TEXT,
	"CONTRASEÑA"	TEXT NOT NULL,
	"DIRECCION"	TEXT,
	"EDAD"	INTEGER,
	"EMAIL"	TEXT,
	"SALARIO"	INTEGER,
	"NOMBRE_USUARIO"	TEXT NOT NULL,
	PRIMARY KEY("ID" AUTOINCREMENT)
);
CREATE TABLE IF NOT EXISTS "ALUMNO" (
	"ID"	INTEGER NOT NULL,
	"NOMBRE"	TEXT,
	"APELLIDO"	TEXT,
	"CONTRASEÑA"	TEXT NOT NULL,
	"DIRECCION"	TEXT,
	"EDAD"	INTEGER,
	"EMAIL"	TEXT,
	"CURSO"	INTEGER,
	"NOMBRE_USUARIO"	TEXT NOT NULL,
	PRIMARY KEY("ID" AUTOINCREMENT)
);
COMMIT;
